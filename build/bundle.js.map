{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/config/database.js","webpack:///./src/config/swagger.js","webpack:///./src/controllers/api/auth/index.js","webpack:///./src/controllers/api/index.js","webpack:///./src/controllers/api/users/index.js","webpack:///./src/controllers/index.js","webpack:///./src/database/index.js","webpack:///./src/documentation/index.js","webpack:///./src/index.js","webpack:///./src/middlewares/error-handler.js","webpack:///./src/middlewares/index.js","webpack:///./src/middlewares/restricted-access.js","webpack:///./src/models/users/index.js","webpack:///./src/models/users/schema.js","webpack:///./src/utils/access.js","webpack:///external \"@babel/runtime/helpers/asyncToGenerator\"","webpack:///external \"@babel/runtime/regenerator\"","webpack:///external \"body-parser\"","webpack:///external \"cors\"","webpack:///external \"express\"","webpack:///external \"http\"","webpack:///external \"jsonwebtoken\"","webpack:///external \"sequelize\"","webpack:///external \"swagger-jsdoc\"","webpack:///external \"swagger-ui-express\""],"names":["host","user","password","database","connectionLimit","swaggerConfig","definition","openapi","info","title","version","components","securitySchemes","ApiKeyAuth","type","name","security","securityDefinitions","basicAuth","apis","router","express","Router","post","asyncHandler","req","res","mail","body","pass","send","UsersModel","sendStatus","token","createToken","id","app","use","AuthController","UsersController","get","restrictedAccess","userId","params","patch","Controllers","Api","dbConfig","db","Sequelize","dialect","query","raw","onConnect","authenticate","sync","console","log","Documentation","swaggerSpec","swaggerJSDoc","swaggerUi","serve","setup","port","process","env","PORT","Middlewares","ConnectDatabase","server","http","createServer","listen","controller","next","Promise","resolve","err","error","toString","socketHandler","msg","bodyParser","urlencoded","json","cors","header","method","end","getHeader","headers","status","verifyToken","createUser","UserSchema","create","updateUser","data","update","where","deleteUser","destroy","getUserByEmailAndPassword","findOne","require","DataTypes","User","define","STRING","secret","decodeToken","jwt","decode","sign","callback","verify"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","export default {\n    host: 'localhost',\n    user: 'root',\n    password: '',\n    database: 'amor',\n    connectionLimit : 10,\n};","export const swaggerConfig = {\n  definition: {\n    openapi: '3.0.0',\n    info: {\n      title: 'Test API',\n      version: '1.0.0',\n    },\n    components: {\n      securitySchemes: {\n        ApiKeyAuth: {\n          type: 'apiKey',\n          name: 'x-access-token',\n          in: 'header',\n        },\n      },\n    },\n    security: [\n      { ApiKeyAuth: [] },\n    ],\n    securityDefinitions: {\n        basicAuth: {\n            type: 'basic'\n        },\n    },\n  },\n  // Path to the API docs\n  apis: ['./src/controllers/**/*.js', './src/controllers/**/*.yml'],\n};\n\n","import express from 'express';\nimport * as UsersModel from \"@Models/users\";\nimport { createToken } from \"@Utils/access\";\nimport { asyncHandler } from \"@Middlwares/error-handler\";\n\nconst router = express.Router();\n\nrouter.post(\"/login\", asyncHandler(async (req, res) => {\n    const mail = req.body.mail;\n    const pass = req.body.pass;\n\n    if (!mail || !pass) return res.send(400);\n    const user = await UsersModel.getUserByEmailAndPassword(mail, pass);\n\n    if(!user) {\n      return res.sendStatus(403);\n    }\n\n    const token = createToken({ id: user.id });\n\n    res.send(token);\n  })\n);\n\n\nexport default router;\n","import UsersController from './users';\nimport AuthController from './auth';\n\nexport default function (app) {\n  // Public\n  app.use('/auth', AuthController);\n\n\n  // Private\n  app.use('/users', UsersController);\n\n  app.use('/', (req, res) => res.send(`Working like a charm ٩(^‿^)۶`));\n}\n","import express from 'express';\nimport * as UsersModel from \"@Models/users\";\nimport { asyncHandler } from \"@Middlwares/error-handler\";\nimport restrictedAccess from \"@Middlwares/restricted-access\";\n\nconst router = express.Router();\n\nrouter.get(\"/restricted-path\", restrictedAccess, asyncHandler(async(req, res) => {\n  res.send(`User id: ${req.userId}`);\n}));\n\nrouter.post(\"/create\", asyncHandler(async (req, res) => {\n  const mail = req.body.mail;\n  const pass = req.body.pass;\n  await UsersModel.createUser(mail, pass)\n  res.send('Usuario creado con éxito');\n}));\n\nrouter.delete(\"/:id\", restrictedAccess,asyncHandler( async (req, res) => {\n  const { params: { id } } = req;\n  await UsersModel.deleteUser(id);\n  res.send(`User id: ${id} deleted`);\n}));\n\nrouter.patch(\"/:id\", restrictedAccess, async (req, res) => {\n  const { params: { id }, body } = req;\n  await UsersModel.updateUser(id, body);\n  res.send(`User id: ${id} updated`);\n});\n\n\nexport default router;\n","import Api from './api';\n\nconst Controllers = (app) => {\n    Api(app);\n};\n\nexport default Controllers;","import { Sequelize } from 'sequelize';\r\nimport dbConfig from '../config/database';\r\n\r\nconst { database, user, password, host } = dbConfig;\r\n\r\nexport const db = new Sequelize(database, user, password, {\r\n    host,\r\n\tdialect: 'mysql',\r\n\tquery: { raw: true }\r\n});\r\n\r\nexport default async (onConnect) => {\r\n\ttry {\r\n        await db.authenticate();\r\n        db.sync();\r\n        onConnect();\r\n\t\tconsole.log('Database connection OK!');\r\n\t} catch (error) {\r\n\t\tconsole.log('Unable to connect to the database:');\r\n\t}\r\n}","import swaggerJSDoc from \"swagger-jsdoc\";\nimport swaggerUi from \"swagger-ui-express\";\nimport { swaggerConfig, options } from \"../config/swagger\";\n\nconst Documentation = (app) => {\n  // JSON of specs\n  const swaggerSpec = swaggerJSDoc(swaggerConfig);\n\n  // Api entrypoint\n  app.use(\"/docs\", swaggerUi.serve, swaggerUi.setup(swaggerSpec));\n};\n\nexport default Documentation;\n","import express from 'express';\nimport http from 'http';\nimport Middlewares from './middlewares';\nimport Controllers from './controllers';\nimport Documentation from './documentation';\nimport ConnectDatabase from './database';\n\nconst app = express();\n/*\nHeroku utiliza la variable de entorno process.env.port para asignar el puerto donde se va ejecutar el servidor,\npor eso la hemos definido en esta plantilla\n*/\nconst port = process.env.PORT || 3005;\n\nDocumentation(app);\nMiddlewares(app);\nControllers(app);\nConnectDatabase(() => {\n    const server = http.createServer(app);\n    server.listen(port, () => console.log(`Server listening to http://localhost:${port}`));\n});\n\n","/*Tenemos una función que recibe como parámetro la función de cada controlador,\nla ejecuta (resolve)\ny si  hay algún error, lo mostrará por consola y lanzará un 500\n*/\n\nexport const asyncHandler = controller => (req, res, next) => Promise\n  .resolve(controller(req, res, next))\n  .catch((err) => {\n    console.error('Request error:' + err.toString());\n    if (err) return res.sendStatus(500).send();\n});\n \nexport const socketHandler = controller => msg => Promise\n  .resolve(controller(msg))\n  .catch((err) => {\n    console.error('Socket error:' + err);\n});","import cors from 'cors';\nimport bodyParser from 'body-parser';\n\nconst Middlewares = (app) => {\n    app.use(bodyParser.urlencoded());\n    app.use(bodyParser.json());\n    app.use(cors()) // Use this after the variable declaration\n    app.use(function (req, res, next) {\n        res.header('Access-Control-Allow-Origin', '*');\n        res.header(\"Access-Control-Allow-Headers\", \"Origin, X-Requested-With, Content-Type, Accept\");\n        res.header('Access-Control-Allow-Credentials', true);\n        res.header('Access-Control-Allow-Methods', 'GET,PUT,POST,DELETE,OPTIONS');\n    \n        if (req.method === 'OPTIONS') {\n            res.end();\n        } else {\n            next();\n        }\n    });\n};\n\nexport default Middlewares;","import { verifyToken } from '../utils/access';\nexport const getHeader = (req, header) => req.headers[header];\n\nexport default (req, res, next) => {\n  const token = getHeader(req, 'x-access-token');\n  \n  if (!token) {\n    return res.status(400).send('No token provided.');\n  }\n  return verifyToken(token, (err, { id } = {}) => {\n    if (err) {\n      return res.status(401).send('Failed to authenticate token.');\n    }\n\n    if (!id) {\n      return res.status(403).send('Wrong credentials');\n    }\n    req.userId = id;\n    return next();\n  });\n}","import UserSchema from './schema';\n\nexport const createUser = (mail, password) => UserSchema.create({\n    mail,\n    password,\n});\n\nexport const updateUser = (id, data) => UserSchema.update(data, { where: { id }});\n\nexport const deleteUser = id => UserSchema.destroy({ where: { id }});\n\nexport const getUserByEmailAndPassword = (mail, password) => UserSchema.findOne({\n    where: {\n        mail,\n        password\n    }\n});\n","import { db } from '../../database';\r\nconst { DataTypes } = require('sequelize');\r\n\r\nconst User = db.define('user', {\r\n\tpassword: DataTypes.STRING,\r\n\tmail: DataTypes.STRING,\r\n});\r\n\r\nexport default User;","import jwt from 'jsonwebtoken';\n\nconst secret = 'secret';\n\nexport const decodeToken = jwt.decode;\n\nexport const createToken = data => jwt.sign(data, secret);\n\nexport const verifyToken = (token, callback) => jwt.verify(token, secret, callback);","module.exports = require(\"@babel/runtime/helpers/asyncToGenerator\");","module.exports = require(\"@babel/runtime/regenerator\");","module.exports = require(\"body-parser\");","module.exports = require(\"cors\");","module.exports = require(\"express\");","module.exports = require(\"http\");","module.exports = require(\"jsonwebtoken\");","module.exports = require(\"sequelize\");","module.exports = require(\"swagger-jsdoc\");","module.exports = require(\"swagger-ui-express\");"],"sourceRoot":""}